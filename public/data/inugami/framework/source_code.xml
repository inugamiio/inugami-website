<xml>
 
    <src name="mvn_clean_install" type="bash" title="Maven clean install">
        <![CDATA[
mvn clean install
]]>
    </src>

	<src name="iolog" type="text" title="IOLOG">
        <![CDATA[
 [31/12 07:20:14]|IOLOG|INFO |http-nio-8080-exec-8|[POST] /ws/user
headers :
	accept: */*
	accept-encoding: gzip, deflate, br
	cache-control: no-cache
	connection: keep-alive
	content-length: 116
	content-type: application/json
	cookie: JSESSIONID=032FBAB561005F1AC0F658AFDE4EC26C
	host: localhost:8080
	postman-token: 5c5e83f4-4d72-442c-b5a2-8cc7c06be0e2
	user-agent: PostmanRuntime/7.29.2
payload :
[
    {
        "firstName":"John",
        "lastName":"Smith",
        "email":"john.smith.mock@inugami.io"
    }
]
[31/12 07:20:14]|IOLOG|INFO |http-nio-8080-exec-8|[POST] /ws/user
headers :
	accept: */*
	accept-encoding: gzip, deflate, br
	cache-control: no-cache
	connection: keep-alive
	content-length: 116
	content-type: application/json
	cookie: JSESSIONID=032FBAB561005F1AC0F658AFDE4EC26C
	host: localhost:8080
	postman-token: 5c5e83f4-4d72-442c-b5a2-8cc7c06be0e2
	user-agent: PostmanRuntime/7.29.2
payload :
[
    {
        "firstName":"John",
        "lastName":"Smith",
        "email":"john.smith.mock@inugami.io"
    }
]
response:
	status:200
	datetime:1767162014169
	duration:9
	contentType:application/json
	headers:
		Access-Control-Allow-Credentials: true
		Access-Control-Allow-Headers: 
		Access-Control-Allow-Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS
		Access-Control-Allow-Origin: *
		Access-Control-Expose-Headers: 
		Content-Type: application/json
		accept: */*
		accept-encoding: gzip, deflate, br
		cache-control: no-cache
		connection: keep-alive
		content-length: 116
		content-type: application/json
		cookie: JSESSIONID=032FBAB561005F1AC0F658AFDE4EC26C
		host: localhost:8080
		postman-token: 5c5e83f4-4d72-442c-b5a2-8cc7c06be0e2
		user-agent: PostmanRuntime/7.29.2
		x-b3-traceid: 335f7176-8871-4f04-ad5e-d1c8c9b49f7b
		x-correlation-id: 3d69a6dc-9cc5-49fd-9812-03beb8dc34c3
		x-device-identifier: 2f411cae-e3b4-4465-b86a-e001c2b64d74
	payload:[{"audit":{"createdBy":"system","createdDate":"2025-12-31T06:20:14.164320179","version":1},"email":"john.smith.mock@inugami.io","firstName":"John","lastName":"Smith","uid":"31bd235a-8060-4f65-856b-33b7de38cc48"}]
]]>
    </src>

	<src name="error_response" type="json" title="Error response example">
        <![CDATA[
{
    "cause": {
        "errors": [],
        "message": "uid required to find user",
        "parameters": []
    },
    "detail": "",
    "details": {
        "errorCode": "USER-2_0",
        "fields": [],
        "version": "@project.version@",
        "errorType": "functional",
        "rollback": false,
        "retryable": false,
        "errorDomain": "USER",
        "service": "UserRestController_getById"
    },
    "errors": [],
    "message": "uid required to find user",
    "parameters": [],
    "reasonPhrase": "Bad Request",
    "status": 400
}
]]>
    </src>


 
    <src name="demo-api" type="java" title="Module demo-api">
        <![CDATA[
open module com.my.project.api {
    requires lombok;
    requires jdk.compiler;
    requires org.jspecify;
    requires io.inugami.framework.interfaces;

    exports com.my.project.api.domain.user;
    exports com.my.project.api.domain.user.dto;
    exports com.my.project.api.domain.user.exception;
}
]]>
    </src>

	 
    <src name="demo-api-userDto" type="java" title="UserDTO">
        <![CDATA[
@Getter
@Setter
@Builder(toBuilder = true)
@NoArgsConstructor
@AllArgsConstructor
@ToString(onlyExplicitlyIncluded = true)
@EqualsAndHashCode(onlyExplicitlyIncluded = true)
public class UserDTO implements Serializable {
    private static final long serialVersionUID = -8615427425887155741L;

    @ToString.Include
    private String uid;
    @ToString.Include
    private String firstName;
    @ToString.Include
    private String lastName;
    @ToString.Include
    @EqualsAndHashCode.Include
    private String email;

    private AuditDTO audit;
}
]]>
    </src>

		 
    <src name="demo-api-userDto-test" type="java" title="UserDTOTest">
        <![CDATA[
class UserDTOTest {

    @Test
    void userDTO() {
        assertDto(AssertDtoContext.<UserDTO>builder()
                                  .objectClass(UserDTO.class)
                                  .cloneFunction(i -> i.toBuilder().build())
                                  .noArgConstructor(UserDTO::new)
                                  .fullArgConstructor(this::buildUserDTO)
                                  .fullArgConstructorRefPath("api/domain/user/dto/userDTO/model.json")
                                  .getterRefPath("api/domain/user/dto/userDTO/getter.json")
                                  .toStringRefPath("api/domain/user/dto/userDTO/toString.txt")
                                  .noEqualsFunction(this::notEquals)
                                  .checkSetters(true)
                                  .build());
    }

    private void notEquals(final UserDTO instance) {
        assertThat(instance).isNotEqualTo(null);
        assertThat(instance).isNotEqualTo(instance.toBuilder());
        //
        assertThat(instance).isNotEqualTo(instance.toBuilder().email(null).build());
        assertThat(instance.toBuilder().email(null).build()).isNotEqualTo(instance);
        assertThat(instance).isNotEqualTo(instance.toBuilder().email(UnitTestData.OTHER).build());
        assertThat(instance.toBuilder().email(UnitTestData.OTHER).build()).isNotEqualTo(instance);
        assertThat(instance.hashCode()).isNotEqualTo(instance.toBuilder().email(null).build().hashCode());
        assertThat(instance.hashCode()).isNotEqualTo(instance.toBuilder()
                                                             .email(UnitTestData.OTHER)
                                                             .build()
                                                             .hashCode());
    }

    private UserDTO buildUserDTO() {
        return UserDTO.builder()
                      .uid(UnitTestData.UID)
                      .firstName(UnitTestData.FIRSTNAME)
                      .lastName(UnitTestData.LASTNAME)
                      .email(UnitTestData.EMAIL)
                      .build()
                      .toBuilder()
                      .build();
    }
}
]]>
    </src>
</xml>